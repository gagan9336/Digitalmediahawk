function fitElementToParent(t,n){var e=null;function r(){e&&clearTimeout(e),anime.set(t,{scale:1});var r=t.parentNode,a=t.offsetWidth-(n||0),o=r.offsetWidth;e=setTimeout(anime.set(t,{scale:o/a}),10)}r(),window.addEventListener("resize",r)}var layeredAnimation=function(){document.querySelectorAll(".transform-progress");var t=document.querySelector(".layered-animations"),n=t.querySelectorAll(".shape"),e=t.querySelector("polygon").getAttribute("points").split(" "),r=["easeInOutQuad","easeInOutCirc","easeInOutSine","spring"];function a(t){for(var n=[],e=0;e<30;e++)n.push({value:t});return n}function o(t){var n=t.querySelector("circle"),i=t.querySelector("rect"),u=t.querySelector("polygon"),s=anime.timeline({targets:t,duration:function(){return anime.random(600,2200)},easing:function(){return r[anime.random(0,r.length-1)]},complete:function(t){o(t.animatables[0].target)}}).add({translateX:a(function(t){return t.classList.contains("large")?anime.random(-300,300):anime.random(-520,520)}),translateY:a(function(t){return t.classList.contains("large")?anime.random(-110,110):anime.random(-280,280)}),rotate:a(function(){return anime.random(-180,180)})},0);n&&s.add({targets:n,r:a(function(){return anime.random(32,72)})},0),i&&s.add({targets:i,width:a(function(){return anime.random(64,120)}),height:a(function(){return anime.random(64,120)})},0),u&&s.add({targets:u,points:a(function(){var t=anime.random(72,180)/100;return e.map(function(n){return n*t}).join(" ")})},0)}fitElementToParent(t);for(var i=0;i<n.length;i++)o(n[i])}();